<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</title>
  <style>
    body {
      font-family: Arial;
      direction: rtl;
      padding: 30px;
      background-color: #f9f9f9;
    }
    form {
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      max-width: 500px;
      margin: auto;
      box-shadow: 0 0 10px #ccc;
    }
    input, textarea {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    .summary {
      background: #f1f1f1;
      padding: 15px;
      margin-top: 20px;
      border-radius: 5px;
    }
    button {
      background-color: #28a745;
      color: white;
      border: none;
      padding: 12px 20px;
      font-size: 16px;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #218838;
    }
  </style>
</head>
<body>

  <h2>ğŸ§¾ Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</h2>

  <form onsubmit="submitOrder(event)">
    <label>ğŸ‘¤ Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„:</label>
    <input type="text" id="name" required>

    <label>ğŸ“± Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:</label>
    <input type="tel" id="phone" required>

    <label>ğŸ  Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</label>
    <textarea id="address" rows="3" required></textarea>

    <div class="summary" id="order-summary"></div>

    <button type="submit">âœ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</button>
  </form>

  <script>
    const products = JSON.parse(localStorage.getItem("cart")) || [];
    const summaryDiv = document.getElementById("order-summary");

    // Ø¹Ø±Ø¶ Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨
    let total = 0;
    products.forEach(p => {
      summaryDiv.innerHTML += `<p>ğŸ“¦ ${p.name} Ã— ${p.quantity} = ${p.price * p.quantity} $</p>`;
      total += p.price * p.quantity;
    });
    summaryDiv.innerHTML += `<h3>ğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} $</h3>`;

    // Ø¹Ù†Ø¯ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨
    function submitOrder(e) {
      e.preventDefault(); // Ø¹Ø´Ø§Ù† Ù…Ø§Ù†Ø¹Ù…Ù„Ø´ reload

      const name = document.getElementById("name").value;
      const phone = document.getElementById("phone").value;
      const address = document.getElementById("address").value;

      if (name && phone && address) {
        alert(`ğŸ‰ Ø´ÙƒØ±Ù‹Ø§ ÙŠØ§ ${name}! ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­.\nÙ‡Ù†ÙˆØµÙ„Ù‡ Ø¹Ù„Ù‰: ${address}`);
        localStorage.removeItem("cart"); // ÙØ¶ÙŠ Ø§Ù„Ø³Ù„Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø·Ù„Ø¨
        window.location.href = "indx.html"; // Ø±Ø¬Ø¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
      }
    }
  </script>

</body>
</html>
